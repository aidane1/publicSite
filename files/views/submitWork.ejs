<!DOCTYPE html>
<html lang="en" dir="ltr">
  <head>
    <meta charset = "utf-8">
    <meta name = "viewport" content = "width=device-width, initial-scale=1.0" />
    <meta name = "description" content = "Submit the days assignments." />
    <meta name = "theme-color" content = "#f77d13" />
    <meta name="mobile-web-app-capable" content="yes">
    <link rel = "manifest" href = "public/manifests/home.json  " />
    <title>PVSS student website | Homework Submit</title>
    <script>
      function displayFunction(id, name) {
        document.getElementById("coursesDisplay").classList.toggle("noDisplay");
        document.getElementById("submit").classList.toggle("blockDisplay");
        document.getElementById("header").innerHTML = name;
        document.getElementById("courseID").value = id;
      }
      function submitType(type) {
        var submitBox = document.getElementById("submitTypes");
        submitBox.innerHTML = "";


        var input = document.createElement("input");
        var secondInput = document.createElement("input");
        input.name = "page";
        secondInput.name = "questions";



        var textarea = document.createElement("textarea");
        textarea.name = "assignment";
        let due = document.createElement("input");
        due.type = "text";
        due.name = "due";
        due.placeholder = "due..."
        due.id = "due"
        if (type === 1) {
          textarea.style.display = "none";

          input.type = "number";
          secondInput.className = "questions";
          input.className = "page";
          textarea.value = "";
        } else if (type === 2) {
          input.type = "hidden";
          secondInput.type = "hidden";

          textarea.className = "assignment";
          textarea.setAttribute("placeholder", "Assignment (please specify)...");
          input.value = "";
          secondInput.value = "";
        }
        input.setAttribute("placeholder", "Page #...");
        secondInput.setAttribute("placeholder", "Question #'s ...");
        submitBox.appendChild(input);

        submitBox.appendChild(document.createElement("br"));
        submitBox.appendChild(secondInput);
        submitBox.appendChild(textarea);

        submitBox.appendChild(document.createElement("br"));
        submitBox.appendChild(due);

      }

      // #4971b7
      // #315491
      // #1f3a68

    </script>
    <style>
      * {
        font-family: sans-serif;
        box-sizing: border-box;
      }
      html {
        height: 100%;
        -webkit-text-size-adjust: 100%
      }
      body {
        margin: 0;
        padding: 0;
        height: 100%;
        background-color: #1f3a68;
      }
      .coursesDisplay {
        height: 100%;
        display: flex;
        flex-direction: column;
      }
      .course {
        flex: 1;
        display: flex;
        justify-content: center;
        background: linear-gradient(#75a7ff, #4971b7);
        padding: 0;
        border: none;
        outline: none;
        font-size: 35px;
        color: white;
      }
      .course:active {
        background: linear-gradient(#0f6abf, #0b3a66);
      }
      /* .submit {
        display: none;

        width: 100%;
        height: 100%;
      } */
      .notes {

        width: 80%;
        margin: auto;
        height: 200px;
        outline: none;
        display: block;


      }
      .option {
        width: 45%;
        height: 50px;
        outline: none;
        display: block;
        margin: auto;
        margin-top: 20px;
        background-color: #75a7ff;
        color: white;
        font-size: 18px;
      }
      .text {
        width: 80%;
        height: 30px;
        display: block;
        margin: auto;
        margin-top: 15px;
        color: white;
      }
      .header {
        width: 100%;
        height: 40px;
        text-align: center;
        /* margin-top: 10px; */
        font-size: 25px;
        color: white;
      }

      label {
        color: white;
        display: none;
      }
      .page {
        outline: none;
        font-size: 18px;
        display: block;
        margin: auto;
      }
      .questions {
        outline: none;
        font-size: 18px;
        display: block;
        margin: auto;
      }
      #submitTypes {
        width: 100%;
        margin: auto;
        margin-top: 5%;
      }
      .submitButton {
        width: 45%;
        height: 30px;
        border-radius: 5px;
        background-color: #26a4ff;
        display: block;
        position: absolute;
        left: 27.5%;
        bottom: 10px;
        outline: none;
      }
      .textareaLabel {
        width: 80%;
        display: block;
        margin: auto;
        color: grey;
      }
      .assignment {
        width: 80%;
        height: 100px;
        display: block;
        outline: none;
        margin: auto;
        margin-bottom: 15px;
        margin-top: -30px;
        font-size: 18px;
      }
      .submit {
        display: none;

      }
      .backButton {
        position: fixed;
        width: 60px;
        height: 30px;
        background-color: red;
        border: none;
        outline: none;
        left: 5px;
        top: 25px;

      }
      .backButton a {
        text-decoration: none;
      }
      .noDisplay {
        display: none;
      }
      .blockDisplay {
        display: block;
      }
      #due {
        font-size: 18px;
        display: block;
        margin: auto;
      }
      @media screen and (max-width: 320px) {
        .submit {
          top: 200px;
        }
        .notes {
          top: -20px;
          height: 100px;
        }
      }
      @media screen and (min-width: 768px) {
        .submit {
          position: absolute;
          right: 50px;

        }
        .noDisplay {
          display: flex;
        }
        .blockDisplay {
          position: fixed;
          display: block;
          top: 0px;
          width: 50%;
          right: 0;
        }
        .text {

          margin-top: 50px;
        }
        .notes {
          height: 500px;

        }
        .submitButton {
          position: absolute;
          bottom: 15px;

        }
        .coursesDisplay {

          width: 500px;

        }
        .option {

        }
        .course {
          width: 300px;
          height: 100px;
        }
      }
    </style>
  </head>
  <body>
    <div class = "back" style = "font-size: 40px; position: fixed; top:10px">
      <a href = "/" style = "text-decoration:none; color:blue">&#8592;</a>
    </div>
    <div id = "coursesDisplay" class = "coursesDisplay">

      <% courses.forEach(function(course) { %>
        <button class = "course" onclick = "displayFunction('<%=course._id%>', '<%=course.course%>')"><%=course.course%></button>
      <% }); %>
    </div>
    <form id = "submit" class = "submit" method = "POST" action = "/submit">
      <input type = "hidden" name = "courseID" id = "courseID" />
      <input type = "hidden" name = "submittedBy" id = "submittedBy" value = "<%=user%>"/>
      <input type = "hidden" name = "confirmed" id = "confirmed" value = "false"/>
      <div class = "header" id = "header"></div>
      <div id = "submitTypes">
        <button class = "option" onclick = "submitType(1)">Textbook</button>
        <button class = "option" onclick = "submitType(2)">Assignment</button>

      </div>

      <br>
      <div class = "text">notes: </text>
      <textarea class = "notes" name = "notes" maxlength="256" style = "font-size: 18px">

      </textarea>

      <input type = "submit" class = "submitButton">
    </form>
  </body>
</html>
