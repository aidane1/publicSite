<!DOCTYPE html>
<html lang="en" dir="ltr">
  <head>
    <meta charset = "utf-8">
    <meta name = "viewport" content = "width=device-width, initial-scale=1.0" />
    <meta name = "description" content = "Submit the days assignments." />
    <meta name = "theme-color" content = "#f77d13" />
    <meta name="mobile-web-app-capable" content="yes">
    <link rel = "manifest" href = "public/manifests/home.json  " />
    <title>PVSS student website | Homework Submit</title>
    <script>
      function displayFunction(id, name) {
        document.getElementById("coursesDisplay").classList.toggle("noDisplay");
        document.getElementById("submit").classList.toggle("blockDisplay");
        document.getElementById("header").innerHTML = name;
        document.getElementById("courseID").value = id;
      }
      function submitType(type) {
        document.getElementById("submitBox").innerHTML = "";


        if (type === 1) {
          document.getElementById("page").classList.toggle("hidden");
          document.getElementById("questions").classList.toggle("hidden");
          document.getElementById("page").classList.toggle("shown");
          document.getElementById("questions").classList.toggle("shown");
        } else if (type === 2) {
          document.getElementById("assignment").classList.toggle("hidden");
          document.getElementById("assignment").classList.toggle("shown");
        }
        document.getElementById("due").classList.toggle("shown");


      }
      if( /Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent) ) {
        var windowHeight = 0;
        window.onload = function() {
          windowHeight = window.innerHeight;
        }
        window.onresize = function() {
          document.body.style.height = windowHeight.toString() + "px";
        }

      }




    </script>
    <style>
      :root {
        --bg-color: <%=colours.bgColor%>;
        --info-color: <%=colours.infoColor%>;
        --button-color: <%=colours.buttonColor%>;
        --border-color: <%=colours.borderColor%>;
        --text-color: <%=colours.textColor%>;
      }
      @font-face {
        font-family: sansFont;
        src: url("<%=font%>")
      }
      * {
        font-family: sansFont, sans-serif;
        box-sizing: border-box;
        color: var(--text-color);
      }

      html {
        height: 100%;
        -webkit-text-size-adjust: 100%
      }
      body {
        margin: 0;
        padding: 0;
        height: 100%;

        background-color: var(--bg-color);
      }
      .coursesDisplay {
        height: 100%;
        display: flex;
        flex-direction: column;
      }
      .course {
        flex: 1;
        display: flex;
        justify-content: center;
        background-color: var(--button-color);
        border: 2px solid var(--border-color);
        padding: 0;
        border-radius: 10px;
        margin-top: 8px;
        margin-bottom: 8px;
        outline: none;
        font-size: 35px;
        color: var(--text-color);
      }

      /* .submit {
        display: none;

        width: 100%;
        height: 100%;
      } */
      .notes {

        width: 80%;
        height: 200px;
        outline: none;
        margin: auto;
        background-color: var(--info-color);
        border: 1px solid var(--border-color);

      }
      .option {
        width: 45%;
        height: 50px;
        outline: none;
        display: block;
        margin: auto;
        margin-top: 20px;
        background-color: var(--button-color);
        border: 2px solid var(--border-color);
        border-radius: 8px;
        color: var(--text-color);
        font-size: 18px;
      }
      .text {
        width: 80%;
        height: 30px;
        display: block;
        margin: auto;
        margin-top: 15px;

      }
      .header {
        width: 100%;
        height: 40px;
        text-align: center;
        /* margin-top: 10px; */
        font-size: 25px;
        display: block;

      }

      label {
        color: white;
        display: none;
      }
      .page {
        outline: none;
        font-size: 18px;
        margin: auto;
        margin-top: 20px;
        background-color: var(--info-color);
        color: var(--text-color);
        border: 1px solid var(--border-color);
      }
      .questions {
        outline: none;
        font-size: 18px;
        margin: auto;
        margin-top: 20px;
        background-color: var(--info-color);
        color: var(--text-color);
        border: 1px solid var(--border-color);
      }
      #submitTypes {
        width: 100%;
        margin: auto;
        margin-top: 5%;
      }
      .submitButton {
        width: 45%;
        height: 50px;
        border-radius: 5px;
        background-color: var(--button-color);
        font-size: 20px;
        display: block;
        margin: auto;
        color: var(--text-color);
        outline: none;
        -webkit-appearance: none;
      }
      .textareaLabel {
        width: 80%;
        display: block;
        margin: auto;
        color: grey;
      }
      .assignment {
        width: 80%;
        height: 100px;
        outline: none;
        margin: auto;
        margin-bottom: 15px;
        margin-top: -30px;
        font-size: 18px;
        background-color: var(--info-color);
        color: var(--text-color);
        border: 1px solid var(--border-color);
      }
      .submit {
        display: none;

      }
      .backButton {
        position: fixed;
        width: 60px;
        height: 30px;
        background-color: red;
        border: none;
        outline: none;
        left: 5px;
        top: 25px;

      }
      .backButton a {
        text-decoration: none;
      }
      .noDisplay {
        display: none;
      }
      .blockDisplay {
        width: 100%;
        height: 100%;
        min-height: 460px;
        display: flex;
        flex-direction: column;
        flex-wrap: nowrap;
      }
      .spacer {
        flex-grow: 1;
      }
      #due {
        font-size: 18px;
        margin: auto;
        margin-top: 20px;
        background-color: var(--info-color);
        color: var(--text-color);
        border: 1px solid var(--border-color);
        outline: none;
      }
      .hidden {
        display: none;
      }
      .shown {
        display: block;
      }
      .hiddenInputs input {
        margin-top: 20px;
      }
      @media screen and (max-width: 320px) {
        .submit {
          top: 200px;


        }
        .course {
          font-size: 25px;
        }
        .notes {
          top: -20px;
          height: 100px;
        }
      }
      @media screen and (min-width: 768px) {
        .submit {


        }

        .noDisplay {
          display: flex;
        }
        .blockDisplay {
          position: fixed;
          display: block;
          top: 0px;
          width: 50%;
          right: 0;
        }
        .text {

          margin-top: 50px;
        }
        .notes {

          height: 300px;
          display: block;
          margin: auto;

        }
        .submitButton {
          margin-top: 50px;
          margin-left: 27.5%;


        }
        .coursesDisplay {

          width: 500px;

        }
        .option {

        }
        .course {
          width: 300px;
          height: 100px;
        }
      }
    </style>
  </head>
  <body>
    <div class = "back" style = "font-size: 40px; position: fixed; top:10px">
      <a href = "/" style = "text-decoration:none; color:var(--text-color)">&#8592;</a>
    </div>
    <div id = "coursesDisplay" class = "coursesDisplay">

      <% courses.forEach(function(course) { %>
        <button class = "course" onclick = "displayFunction('<%=course._id%>', '<%=course.course%>')"><%=course.course%></button>
      <% }); %>
    </div>
    <form id = "submit" class = "submit" method = "POST" action = "/submit">


      <input type = "hidden" name = "courseID" id = "courseID" />
      <input type = "hidden" name = "submittedBy" id = "submittedBy" value = "<%=user%>" />
      <input type = "hidden" name = "confirmed" id = "confirmed" value = "false" />


      <div class = "header" id = "header"></div>


      <div class = "submitBox" id = "submitBox">
        <!-- <button class = "option" onclick = "submitType(1)">Textbook</button> -->
        <button class = "option" onclick = "submitType(2)">Assignment</button>
      </div>
      <div class = "spacer"></div>
      <div class = "hiddenInputs" id = "hiddenInputs">
        <input type = "text" name = "page" id = "page" class = "hidden page" placeholder = "Page #..."/>
        <input type = "text" name = "questions" id = "questions" class = "hidden questions" placeholder="Question #'s..."/>
        <input name = "assignment" id = "assignment" class = "hidden assignment" placeholder="Assignment (please specify)..."/>
        <input type = "text" name = "due" id = "due" class = "hidden" placeholder="Due by..."/>

      </div>

      <br>
      <div style = "display: block; margin: auto; width: 80%;">Notes...</div>
      <textarea class = "notes" placeholder="Notes..." name = "notes" maxlength="256" style = "font-size: 18px">

      </textarea>
      <div class = "spacer" style = "min-height: 20px"></div>
      <input type = "submit" class = "submitButton" />
      <div class = "spacer"></div>

      <div class = "spacer"></div>
    </form>
  </body>
  <script>
    function hideFunction() {

    }

  </script>
</html>

<!-- input names: notes, due,page, questions, assignment, hidden: courseID, submittedBy -->
